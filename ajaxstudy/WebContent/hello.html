<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
<script type="text/javascript" src="ajax.js"></script>
<script type="text/javascript">
	function helloToServer(){
		sendRequest
		("hello.jsp","name=" + document.f.name.value,helloFromServer,"POST");
	}
	//콜백함수 : ajax객체의 상태가 변환될 때 호출되는 함수.
	/*
		ajax.readyState
		  0 : ajax 객체 생성.
		  1 : ajax 객체 준비상태. open 함수 실행 된 상태.
		  2 : ajax 객체 전송상태. send 함수 실행 된 상태. 서버는 응답 전.
		  3 : 서버에서 응답 중인 상태. 
		  4 : 서버에서 응답이 완료 된 상태.
		ajax.status : 서버에서 전송된 응답 상태.
		 200: 정상처리.
		 404: 해당페이지없음.
		 500: 서버페이지 오류.
		 
	*/
	//서버에서 모든 응답이 완료 된 경우에 실행 되는 메서드.
	function helloFromServer(){
		if(ajax.readyState == 4){
			if(ajax.status == 200){
				//ajax.responseText : 서버에서 전송한 응답 내용을 저장.
				hello.innerHTML = ajax.responseText;
			}
		}
	}
</script>
</head>
<body>
<form name="f">
	<input type="text" name="name">
	<input type="button" value="인사하기" onclick="helloToServer()">
</form>
<div id="hello"></div>
</body>
</html>