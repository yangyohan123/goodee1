<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
<style type="text/css">
	table{
		border:1px solid #444444;
		border-collapse: collapse;
	}
	tr, td, th{
		border:1px solid #444444;
		padding : 10px;
	}
	.header{
		background-color:green;
		color:yellow;
	}
	.reverse{ background:blue; color:white;}
	.reverse2{background:aqua; color:blue}
</style>
<script type="text/javascript" 
  src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
	$(function(){
		/*
		
			$('tr').mouseover(function(){
				if(!$('tr').hasClass("header")){
				$(this).css("background-color","blue")
				}
			}).mouseleave(function(){
				if(!$('tr').hasClass("header")){
				$(this).css("background-color","white")
				}
			})
		
		*/
		
		$("tr").hover(function(){
			//is() 함수 : 조건값을 리턴
			//$(this).is(".header") :
			//	이벤트 발생된 tr 태그의 class 속성이 header ?
			//if(!$(this).is(".header"){
			/*
				$(this) : 선택된 tr 태그
				$(this).parent() : table(tbody, thead)태그
							       선택된 tr 태그의 부모태그
				$(this).parent().children() : table 태그의 하위 태그들 => 7태그
				$(this).parent().children().index(this):
					table 태그의 하위 태그들 중 this의 인덱스값 리턴
				
			*/	
				if($(this).parent().children().index(this) != 0){
				$(this).addClass("reverse");
				}
			},function(){
				$(this).removeClass("reverse");	
			})
		/*		
		$("th").hover(function(){		
				index = $(this).index()+1;
				$('table tr td:nth-child('+index+')').addClass("reverse2")
			},function(){
				$('table tr td:nth-child('+index+')').removeClass("reverse2")		
			})
		*/	
		$("th").hover(function(){
			
				//$(this) : th
				//$(this).parent() : tr
				//$(this).parent().children() : tr의 하위 태그들
				// $(this).parent().children().length : tr의 하위 태그들의 length=>4
				//tdlen : 1개의 tr태그의 하위 th 태그의 갯수 == td의 갯수, 4
				var tdlen = $(this).parent().children().length;
				//this의 index + 1
				select = $(this).parent().children().index(this) + 1;
				
				//$("td:nth-child("4n+1)")
				$("td:nth-child("+tdlen+"n+"+select+")").addClass("reverse2");
			},function(){
				var tdlen = $(this).parent().children().length;
				select = $(this).parent().children().index(this) + 1;
				$("td:nth-of-type("+tdlen+"n+"+select+")").removeClass("reverse2");
			})
			
	
		})
	
	
</script>
</head>
<body>
<table>
	<tr class="header"><th>이름</th><th>혈액형</th><th>지역</th><th>성별</th></tr>
	<tr><td>강민</td><td>AB형</td><td>서울</td><td>남자</td></tr>
	<tr><td>구자연</td><td>B형</td><td>일산</td><td>여자</td></tr>
	<tr><td>김미화</td><td>A형</td><td>대구</td><td>여자</td></tr>
	<tr><td>이선희</td><td>0형</td><td>광주</td><td>여자</td></tr>
	<tr><td>남기주</td><td>B형</td><td>부산</td><td>남자</td></tr>
	<tr><td>윤미란</td><td>A형</td><td>대전</td><td>여자</td></tr>
</table>
</body>
</html>